# Susie Sourdough - PRODUCTION Configuration
# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "d900df051e5778bfa8696a1721c9e9b2"
name = "Susie Sourdough"
application_url = "https://order-management-shopify-plugin-production.up.railway.app"
embedded = true

[build]
automatically_update_urls_on_dev = false

[webhooks]
api_version = "2024-10"

# Note: Order and subscription webhooks will be registered dynamically after app installation
# due to protected customer data requirements for static webhook registration.
# The app code handles registering these webhooks when installed on a store.

  [[webhooks.subscriptions]]
  topics = ["app/uninstalled", "app/scopes_update"]
  uri = "/webhooks"

[access_scopes]
# Note: Subscription scopes (read/write_own_subscription_contracts, read_customer_payment_methods)
# require protected customer data approval and will be added after distribution setup
scopes = "read_orders,write_orders,read_products,write_products,read_customers"

[auth]
redirect_urls = [ "https://order-management-shopify-plugin-production.up.railway.app/auth/callback" ]

[app_proxy]
url = "https://order-management-shopify-plugin-production.up.railway.app/apps"
subpath = "my-subscription"
prefix = "apps"
